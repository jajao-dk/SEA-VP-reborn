<template>
  <div class="chartplane">
    <GChart
      type="ScatterChart"
      :data="chartData"
      :options="chartOptions"
    />
  </div>
</template>

<script setup>
import { ref, defineProps, watch, toRefs } from 'vue'
import { GChart } from 'vue-google-charts'

// Props
const props = defineProps({
  customerId: { type: String, default: '' },
  ciiData: { type: Object, default: () => {} }
})

const { ciiData } = toRefs(props)
watch(ciiData, (newValue) => {
  console.log('Table create Handler')
  console.log(newValue)
  chartData.value = newValue.data
}, { deep: true })

const chartData = ref([
  ['dist', 'co2', 'a/b', 'b/c', 'c/d', 'd/e'],
  [0, 0.0, 0, 0, 0, 0]
  /*
  [
    160.53048185128677, 69.01084, 46.797815519937174, 51.15110068458249,
    57.68102843155047, 64.21095617851844
  ],
  [
    408.4636328112722, 163.43651999999997, 119.07524050549686,
    130.15200706414774, 146.76715690212404, 163.38230674010032
  ],
  [
    675.7235085010278, 255.90038, 196.98678860635536, 215.31114103485353,
    242.79766967760082, 270.2841983203481
  ],
  [
    945.6438435984558, 348.3331, 275.6739133274465, 301.31799828813917,
    339.78412572917824, 378.25025317021726
  ],
  [
    1209.3358641707098, 441.04608, 352.54536098342265, 385.3402782842061,
    434.5326542353814, 483.72503018655664
  ],
  [
    1473.2770592110473, 529.1192, 429.489447932916, 469.4419547173733,
    529.3707148940593, 589.2994750707452
  ],
  [
    1750.9257579316443, 621.6142, 510.42954374670654, 557.911361769656,
    629.1340888040802, 700.3568158385043
  ],
  [
    2017.5915742880081, 709.18908, 588.1679117837457, 642.8812059031638,
    724.9511470822913, 807.0210882614184
  ],
  [
    2302.000095615552, 800.9367200000002, 671.0786297975022, 733.5045488484327,
    827.1434274248284, 920.782306001224
  ],
  [
    2579.4110102240807, 888.8541400000001, 751.9494068321936, 821.8981888630952,
    926.8213619094479, 1031.7445349558004
  ],
  [
    2860.069937108961, 981.4425600000001, 833.767043787582, 911.326768791078,
    1027.6663562963222, 1144.0059438015662
  ],
  [
    3143.602298176165, 1074.40466, 916.4223437289799, 1001.6709338433036,
    1129.5438190147893, 1257.4167041862747
  ],
  [
    3404.935766504153, 1163.78566, 992.6062266835459, 1084.9416896308524,
    1223.4448840518123, 1361.948078472772
  ],
  [
    3676.9839815129335, 1258.1179200000001, 1071.9136705514538,
    1171.6265701376356, 1321.1959195169084, 1470.765268896181
  ],
  [
    3937.364721527509, 1353.85148, 1147.8198143294003, 1254.5937505460886,
    1414.7546548711214, 1574.915559196154
  ],
  [
    4197.73601242785, 1445.10088, 1223.7232035033637, 1337.5579201083276,
    1508.3099950157741, 1679.06206992322
  ],
  [
    4444.798820233165, 1538.96604, 1295.7469062181024, 1416.2815021453675,
    1597.0833960362659, 1777.8852899271635
  ],
  [
    4713.638056072744, 1633.26716, 1374.1188690892811, 1501.9438801673537,
    1693.681396784463, 1885.4189134015717
  ],
  [
    4998.4113661891915, 1723.8937600000002, 1457.1359302613587,
    1592.6834586577643, 1796.0047512523724, 1999.3260438469806
  ],
  [
    5272.155544474895, 1818.81768, 1536.937781021009, 1679.9087373950563,
    1894.3651719561276, 2108.8216065171982
  ],
  [
    5518.794511249701, 1908.5723600000001, 1608.8379256791918,
    1758.4972676028374, 1982.9862804883062, 2207.4752933737745
  ],
  [
    5790.742152248924, 2002.4998000000005, 1688.1160502309729,
    1845.1501014152493, 2080.7011781916644, 2316.252254968079
  ],
  [
    6058.226284930746, 2095.7733000000003, 1766.0929736874818,
    1930.3806921700382, 2176.8122698938732, 2423.2438476177076
  ],
  [
    6323.757340677619, 2188.0191800000002, 1843.50053652759, 2014.9889585301564,
    2272.2215915340066, 2529.454224537856
  ],
  [
    6581.9666426977265, 2278.2721, 1918.7736631146195, 2097.264236427607,
    2365.0000963970897, 2632.735956366571
  ],
  [
    6836.290418750114, 2372.51094, 1992.9140819109646, 2178.3014383677983,
    2456.3824730530496, 2734.4635077383005
  ],
  [
    7080.485252681903, 2467.03004, 2064.1017134278754, 2256.111175142096,
    2544.125367713428, 2832.139560284759
  ],
  [
    7304.745539219398, 2562.42106, 2129.4780294819952, 2327.5690089686923,
    2624.7054781987385, 2921.841947428784
  ],
  [
    7537.829155338961, 2652.4559999999997, 2197.4265208967786,
    2401.838290282525, 2708.455944361146, 3015.073598439766
  ],
  [
    7797.150968242771, 2746.60142, 2273.023966444912, 2484.468056346764,
    2801.6341911995423, 3118.800326052321
  ],
  [
    8076.336868888516, 2838.3802, 2354.412187071388, 2573.427274240819,
    2901.9499049949663, 3230.472535749113
  ],
  [
    8338.370789392517, 2925.83052, 2430.8002657110073, 2656.921220660868,
    2996.1026530856607, 3335.284085510452
  ],
  [
    8625.449658120398, 3016.95536, 2514.4894428907364, 2748.3954375782464,
    3099.254429609513, 3450.113421640778
  ],
  [
    8877.080031343876, 3107.6442399999996, 2587.844681406959,
    2828.5744192122575, 3189.669025920205, 3550.7636326281527
  ],
  [
    9164.322489882437, 3201.94536, 2671.581548257166, 2920.10076204853,
    3292.879582735577, 3665.658403422623
  ]
  */
])

const chartOptions = ref({
  title: 'CII target for this voyage',
  lineWidth: 1,
  curveType: 'None',
  legend: { position: 'bottom' },
  // chartArea: { width: '50%' },
  series: {
    0: { color: 'black', pointsVisible: true, lineWidth: 3 },
    1: { color: 'blue', pointsVisible: false, lineWidth: 2 },
    2: { color: 'green', pointsVisible: false, lineWidth: 2 },
    3: { color: 'orange', pointsVisible: false, lineWidth: 2 },
    4: { color: 'red', pointsVisible: false, lineWidth: 2 }
  },
  /*
  trendlines: {
    1: {
      type: "linear",
      color: "green",
      lineWidth: 3,
      opacity: 0.3,
      showR2: true,
      visibleInLegend: true,
    },
  },
  */
  hAxis: {
    title: 'Distance [nm]'
    // minValue: 0
    // format: "YYYY.MM",
  },
  vAxis: {
    title: 'CO2 consumption [mt]'
  },
  pointShape: 'star',
  width: 500,
  height: 400
})
</script>
<style scoped>
.chartplane {
  width: 100%;
  height: 50vh;
  overflow: scroll;
}
</style>
